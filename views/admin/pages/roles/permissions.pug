extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
  +alert-success(5000)
  h1 Phân quyền
  div( class="d-none", data-records=records)
  div(class="text-right")
    button(type="submit", class="btn btn-primary mb-3", button-submit) Cập nhật

  table(class="table table-hover table-sm", table-permissions)
    thead
      tr
        th Tính năng
        each item in records
          th(class="text-center") #{item.title}

    tbody
      tr(data-name="id")
        td
          each item in records
            td(class="text-center d-none")
              input(type="text", value=item._id)
      tr
        td(colspan="4")
          b Danh mục sản phẩm
      tr(data-name="products-category_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-category_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-category_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-category_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr
        td(colspan="4")
          b Sản phẩm
      tr(data-name="products_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr
        td(colspan="4")
          b Nhóm quyền
      tr(data-name="roles_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_permissions")
        td Phân quyền
        each item in records
          td(class="text-center")
            input(type="checkbox")
  form(id="form-change-permissions", class="d-none", method="POST", action="/admin/roles/permissions?_method=PATCH")
    div(class="form-group")
      input(type="text", class="form-control", name="permissions")
  script(src="/admin/js/roles.js")